@PART[M2X_UST]:NEEDS[Mk2Expansion]:FOR[zz_ChemicalPropulsion]
{
	chemTechTankType = bipropellant
	chemTechTankVolumeFuelOxidizer = #$MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]/baseVolume$
	@chemTechTankVolumeFuelOxidizer *= 5
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]] {}
}

@PART[M2X_RocketEngineAtmo,M2X_OMSpod]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = Hydrazine
		chemTechOxidizer = NTO
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 315
			key = 1 120
			key = 12 0.001
		}
	}
}

@PART[M2X_RocketEngine,M2X_FuselageRVTOLE]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = Kerosene
		chemTechOxidizer = LqdOxygen
	}
}

@PART[M2X_LinearAerospike]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = LqdHydrogen
		chemTechOxidizer = LqdOxygen
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 440
			key = 1 330
			key = 12 0.001
		}
	}
}

@PART[M2X_Ramjet,M2X_SCRamjet]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = LqdHydrogen
	}
}

@PART[M2X_ESTOC,M2X_ESTOCv2]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]:HAS[#engineID[AirBreathing]]
	{
		chemTechFuel = LqdHydrogen
	}
	@MODULE[ModuleEngines*]:HAS[#engineID[ClosedCycle]]
	{
		chemTechFuel = LqdHydrogen
		chemTechOxidizer = LqdOxygen
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 430
			key = 1 320
			key = 12 0.001
		}
	}
}

@PART[M2X_MATTOCK,M2X_MATTOCKv2]:NEEDS[Mk2Expansion]
{
	@MODULE[ModuleEngines*]:HAS[#engineID[AirBreathing]]
	{
		chemTechFuel = LqdHydrogen
	}
	@MODULE[ModuleEngines*]:HAS[#engineID[ClosedCycle]]
	{
		chemTechFuel = LqdHydrogen
		chemTechOxidizer = LqdOxygen
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 455
			key = 1 350
			key = 12 0.001
		}
	}
}

@PART[M2X_LiftFan,M2X_FuselageLiftFan]:NEEDS[Mk2Expansion]:BEFORE[zz_ChemicalPropulsion]
{
	chemTechMultiModeEngineSupported = true

	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[FuelType]]
	{
		@SUBTYPE[LF/O]
		{
			@MODULE:HAS[@IDENTIFIER[ModuleEnginesFX]]
			{
				@DATA
				{
					@PROPELLANT[LiquidFuel]
					{
						@name = Kerosene
						@ratio = 0.375
					}
					@PROPELLANT[Oxidizer]
					{
						@name = LqdOxygen
						@ratio = 0.625
					}
				}
			}
		}
		@SUBTYPE[LiquidFuel]
		{
			@MODULE:HAS[@IDENTIFIER[ModuleEnginesFX]]
			{
				@DATA
				{
					@PROPELLANT[LiquidFuel]
					{
						@name = Kerosene
						@ratio /= 0.164
					}
				}
			}
		}
	}
}
@PART[M2X_LiftFan,M2X_FuselageLiftFan]:NEEDS[Mk2Expansion]:AFTER[zzz_ChemicalPropulsion]
{
	-MODULE[ModuleIgnition*],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[chemTech*Switch]],* {}
}

@PART[M2X_AugmentedRocket]:NEEDS[Mk2Expansion]:BEFORE[zz_ChemicalPropulsion]
{
	chemTechMultiModeEngineSupported = true

	@MODULE[ModuleEngines*],*
	{
		@PROPELLANT[LiquidFuel]
		{
			@name = Kerosene
			@ratio = 3.75
		}
		@PROPELLANT[Oxidizer]
		{
			@name = LqdOxygen
			@ratio = 6.25
		}
	}
}

@PART[M2X_RATO,M2X_RadialAASRB]:NEEDS[Mk2Expansion]:BEFORE[zz_ChemicalPropulsion]
{
	chemTechMultiModeEngineSupported = true

	@MODULE[ModuleEngines*]:HAS[#moduleID[Air-Augmented]]
	{
		@PROPELLANT[IntakeAtm]
		{
			@name = IntakeAir
		}
	}
}
@PART[M2X_RATO,M2X_RadialAASRB]:NEEDS[Mk2Expansion]:FOR[zzz_ChemicalPropulsion]
{
	@MODULE[ModuleIgnitionEngineController]
	{
		@engineID = Air-Augmented
	}
	+MODULE[ModuleIgnitionEngineController]
	{
		@engineID = Standard
	}
}