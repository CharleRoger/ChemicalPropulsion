@PART[M3X_OMSShoulder]:NEEDS[Mk3Expansion]:AFTER[zz_ChemicalPropulsion]
{
	chemTechTankVolumeFuelOxidizer = #$chemTechTankVolumePropellant$
	-chemTechTankVolumePropellant = _
}

@PART[M3X_LongSegment,M3X_ShortSegment,M3X_UST]:NEEDS[Mk3Expansion]:FOR[zz_ChemicalPropulsion]
{
	chemTechTankType = bipropellant
	chemTechTankVolumeFuelOxidizer = #$MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]/baseVolume$
	@chemTechTankVolumeFuelOxidizer *= 5
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[fuelSwitch]]
	{
		@moduleID = appearance
		@switcherDescription = #LOC_ChemicalPropulsion_misc_appearance_desc
		-baseVolume = _
		@SUBTYPE,*
		{
			-tankType = _
		}
	}
}

@PART[M3X_HeavyRCS]:NEEDS[Mk3Expansion]
{
	@MODULE[ModuleRCS*]:HAS[#thrusterTransformName[RCSThruster]]
	{
		chemTechFuel = Hydrazine
		chemTechOxidizer = NTO
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 280
			key = 1 120
			key = 12 0.001
		}
	}
	@MODULE[ModuleRCS*]:HAS[#thrusterTransformName[RCSTransform]]
	{
		chemTechFuel = Hydrazine
		chemTechOxidizer = NTO
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 295
			key = 1 130
			key = 12 0.001
		}
	}
}

@PART[mk3_OMSystem]:NEEDS[Mk3Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = Hydrazine
		chemTechOxidizer = NTO
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 315
			key = 1 120
			key = 12 0.001
		}
	}
}

@PART[M3X_TurboJet]:NEEDS[Mk3Expansion]
{
	@MODULE[ModuleEngines*]
	{
		chemTechFuel = LqdHydrogen
	}
}

@PART[M3X_CLEAVER]:NEEDS[Mk3Expansion]
{
	@MODULE[ModuleEngines*]:HAS[#engineID[AirBreathing]]
	{
		chemTechFuel = LqdHydrogen
	}
	@MODULE[ModuleEngines*]:HAS[#engineID[ClosedCycle]]
	{
		chemTechFuel = LqdHydrogen
		chemTechOxidizer = LqdOxygen
		-atmosphereCurve {}
		atmosphereCurve
		{
			key = 0 420
			key = 1 330
			key = 12 0.001
		}
	}
}